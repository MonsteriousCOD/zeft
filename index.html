<!DOCTYPE html>
<html lang="en">
  
 <body>
<script>
//build checkBoxContainer
        var checkBoxContainer = document.createElement("div");
        checkBoxContainer.id = categoryName + "CheckBoxContainer";
        checkBoxContainer.classList = "checkBoxContainer";
        checkBoxContainer.innerHTML = ``;

        //build traitLabel
        var traitLabel = document.createElement("div");
        traitLabel.id = categoryName + "TraitLabel";
        traitLabel.classList = "traitLabel";
        traitLabel.innerHTML = ``;

        //build traitLabelText
        var traitLabelText = document.createElement("a");
        traitLabelText.id = categoryName + "TraitLabelText";
        traitLabelText.classList = "traitLabelText";
        traitLabelText.innerHTML = `${traitNameElement.toString().toUpperCase()}`;

        traitLabel.appendChild(traitLabelText);
        checkBoxContainer.appendChild(traitLabel);

        //build traitCountLabel
        var traitCount = document.createElement("div");
        traitCount.id = categoryName + "TraitCount";
        traitCount.classList = "traitCount";
        traitCount.innerHTML = ``;

        //build traitCountLabelText
        var traitCountLabelText = document.createElement("a");
        traitCountLabelText.id = categoryName + "TraitCountText";
        traitCountLabelText.classList = "traitCountText";
        traitCountLabelText.innerHTML = ``;

        traitCount.appendChild(traitCountLabelText);
        checkBoxContainer.appendChild(traitCount);

        //build checkBox
        var ckeckBoxDiv = document.createElement("div");
        ckeckBoxDiv.classList = "checkbox";
        ckeckBoxDiv.innerHTML = ``;

        //build checkBox
        let id = categoryName + "_" + traitNameElement + "_checkbox";
        var checkboxInput = document.createElement("input");
        checkboxInput.type = "checkbox";
        checkboxInput.id = id;
        checkboxInput.innerHTML = ``;
        checkboxInput.addEventListener('change', function () {
          setAttributeFilter(categoryName, traitNameElement, this.checked);
        });
        checkBoxInputs.push(checkboxInput);

        //build inputlabel
        var checkBoxInputLabel = document.createElement("label");
        checkBoxInputLabel.htmlFor = id;

        ckeckBoxDiv.appendChild(checkboxInput);
        ckeckBoxDiv.appendChild(checkBoxInputLabel);
        checkBoxContainer.appendChild(ckeckBoxDiv);

        traitContainerDiv.appendChild(checkBoxContainer);
      });

      stringTraitGroupContainer.appendChild(traitContainerDiv);
    }
    function setAttributeFilter(category, filter, state) {
      console.log(`${category}: ${filter} set to ${state ? "active" : "inactive"}`)
      let attFilterValues = stringFilterValues[category];
      if (state) {
        attFilterValues.indexOf(filter) === -1 ?
          attFilterValues.push(filter) :
          console.log("This item already exists");
      }
      else {
        attFilterValues.splice(attFilterValues.indexOf(filter), 1);
      }
      stringFilterValues[category] = attFilterValues;
      console.log(`Values for ${category} are now ${attFilterValues}`)
      GetTokenData(true, 0);
    }
    function foldAllFilterCategories() {
      for (var key in filterToggles) {
        filterToggles[key] = false;
        let button = document.getElementById(key)
        button.blur();
        document.getElementById(button.id + "Container").style.height = '40px';
      }
    }
    function toggleIntCategory(button, fold) {
      button.blur();
      let width = fold ? '40px' : '110px';
      let containerName = button.id + "Container";
      document.getElementById(containerName).style.height = width;
    }
    function toggleStringCategory(button, fold) {
      button.blur();
      let width = fold ? '40px' : '566px';
      let containerName = button.id + "Container";
      document.getElementById(containerName).style.height = width;
    }

  </script>

</body>

</html>
